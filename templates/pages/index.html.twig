{% extends 'base.html.twig' %}

{% set title = "Share a secret" %}
{% set body_id = 'encrypt' %}

{% block stylesheets %}
  {{ encore_entry_link_tags('homepage') }}
{% endblock %}

{% block body %}
  <div id="start">
    <div class="app glass-background glass-background__with-shadow">
      <h2>Share this:</h2>
      <div class="mb-3">
        <textarea
          class="form-control"
          name="secret"
          rows="7"
          placeholder="Enter your secret here"
          data-source="secret"
          error-empty="Your secret is empty. Add something first."
          error-bad-request="The encrypted data we received looked bad, or had missing bits. Please contact us so we can figure out why."
          error-server-error="Something has gone wrong with the server. We're looking into this asap."
          error-unknown="An unknown error has occured. We're looking into this asap."
        ></textarea>
      </div>
      <div class="row">
        <div class="col">
          <button
            type="button"
            class="btn btn-primary btn-lg"
            data-action="create"
          >
            Create my secret link!
          </button>
        </div>
      </div>
    </div>
    {% include 'sections/explanation.twig' %}
  </div>

  <div id="success" class="app glass-background glass-background__with-shadow">
    <h3 class="display-3">Hurrah! Here's your link ðŸš€</h3>
    <div class="card">
      <div class="card-body" data-source="full-link"></div>
    </div>
    <div class="row">
      <div class="col">
        <button
          type="button"
          class="btn btn-primary btn-lg"
          data-action="copy-to-clipboard"
          data-copy-source="full-link"
          data-success-message="Copied!"
        >
          Copy to your clipboard
        </button>
      </div>
    </div>
  </div>
{% endblock %}
{% block javascripts %}
  {{ encore_entry_script_tags('homepage') }}
{% endblock %}
